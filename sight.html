<!DOCTYPE html>
<head>
	<link rel="stylesheet" href="sight.css">
	<nav class="naviBar">
		<a id="btn1" class="left" onclick="btnClick()">Button1</a>
		<a id="btn2" class="left" onclick="createItem()">Btn2</a>
		<a class="seperator"></a>
		<a id="btn3" class="right" onclick="createCat()">BTN03</a>
		<!--input class="searchBar" placeholder="Search..."-->
		<!--div id="submit" class="submitButton" onclick="test()"-->
		<a id="btn4" class="right" onclick="addCategoryForm()">+</a>
	</nav>
	<script>
		function btnClick() {
			const a = document.createElement("p");
			a.textContent = "button press";
			document.getElementById("content").appendChild(a);
		}
		function createItemOld() {
			const newItem = document.createElement("div");
			newItem.className = "item";

			const itemTitle = document.createElement("a");
			itemTitle.className = "itemTitle";
			const itemDesc = document.createElement("a");
			itemDesc.className = "desc";

			newItem.appendChild(itemTitle);
			newItem.appendChild(itemDesc);

			document.getElementById("content").appendChild(newItem);
		}

		function createCat() {
			const newCat = document.createElement("div");
			newCat.className = "category";

			const newCatTitle = document.createElement("a");
			newCatTitle.text = "fhjnkdshnfgkjadhngkd";
			newCatTitle.className = "catTitle";

			const newItem = document.createElement("div");
			newItem.className = "item";

			const itemTitle = document.createElement("a");
			itemTitle.className = "itemTitle";
			itemTitle.text = "jfiodasjfgojgo";
			const itemDesc = document.createElement("a");
			itemDesc.text = "fjkidklajglas";
			itemDesc.className = "desc";

			newItem.appendChild(itemTitle);

			newItem.appendChild(itemDesc);

			newCat.append(newCatTitle);
			newCat.append(newItem);

			// add line seperator
			const lineSeperator = document.createElement("hr");
			lineSeperator.className = "seperator";

			
			const container = document.getElementById("content");
			container.appendChild(newCat);
			container.appendChild(lineSeperator);
		}
		
		function hideForm(elem) {
			document.body.removeChild(elem);
		}
		
		function addCategoryForm() {
			const background = document.createElement("div");
			background.className = "addCatFormPopupBackground";
			document.body.appendChild(background);
			document.body.style.overflow = "hidden";

			background.addEventListener("click", function() {
				document.body.removeChild(background);
				document.body.removeChild(form);
				document.body.style.overflow = "auto";
			});

			const form = document.createElement("div");
			form.className = "addCatFormPopup";
			document.body.appendChild(form);

			const createCatBtn = document.createElement("a");
			createCatBtn.className = addBtn;
			createCatBtn.text = "+";

			document.getElementById("content").appendChild(createCatBtn);

		}

		function closeAddForm() {

		}

		// sep

		function dropdownCatAddForm(btnContainer) {
			// const container = document.getElementById("content");
			const element = document.querySelector(".addBtn");

			// resize btn
			element.classList.toggle("addBtnExpanded");

		}

		function dropdownCatAddFormAlt(btnContainer) {
			const container = document.getElementById("content");

			// remove button
			container.removeChild(btnContainer);

			// form container
			const formContainer = document.createElement("div");
			formContainer.className = "addCatFormContainer";

			const formTitle = document.createElement("a");
			formTitle.className = "addCatFormTitle";
			formTitle.text = "Create category";

				// change styling for consistancy?
			const closeBtn = document.createElement("a");
			closeBtn.className = "closeBtn";
			closeBtn.text = "X";

			const catNameInput = document.createElement("input");
			catNameInput.className = "catNameInput";
			const catNameSubmit = document.createElement("div");
			catNameSubmit.className = "catNameSubmitButton";

			// append to doc
			formContainer.append(formTitle);
			formContainer.append(closeBtn);
			formContainer.appendChild(catNameInput);
			formContainer.appendChild(catNameSubmit);
			container.appendChild(formContainer);
		}

		function appendCatAddBtn() {
			const contentContainer = document.getElementById("content")

			const btnContainer = document.createElement("div");
			btnContainer.className = "addBtn";
			btnContainer.addEventListener("click", function() {
				dropdownCatAddForm(btnContainer)
			});

			const btnIcon = document.createElement("a");
			btnIcon.className = "plus";
			btnIcon.textContent = "+";

			btnContainer.appendChild(btnIcon);
			contentContainer.appendChild(btnContainer);
		}

		function createCategory(title) {
			const contentContainer = document.getElementById("content")

			const catContainer = document.createElement("div");
			catContainer.className = "category";
			
			const catTitle = document.createElement("a");
			catContainer.className = "catTitle";
			catContainer.textContent = title;

			catContainer.appendChild(catTitle);
			contentContainer.appendChild(catContainer);
		}

		// create item
		function createItem(parentDiv) {
			const itemContainer = document.createElement("div");
			itemContainer.className = "item itemGray";

			parentDiv.appendChild(itemContainer);
		}
	</script>
	<div id="content" class="contentContainer">
		<!--div id="test" class="category">
			<a class="catTitle">Category 1</a>
			<div class="item itemGray">
				<a class="itemTitle">dhjsafgjadsgfjasdk</a>
				<a class="itemTitle">Item title 1</a>
				<a class="itemDesc">This is the items description</a>
				<div class="itemCloseBtn">X</div>
			</div>
		</div>
		<hr class="seperator">
		<div class="category">
			<a class="catTitle">Category 2</a>
			<div class="item itemGray">
				<a class="itemTitle">Item title 2</a>
				<a class="desc">This is the items description</a>
				<div class="item itemWhite">
					<a class="itemTitle">Item title 1 layer 2</a>
					<a class="desc">This <br> is the items <br> description</a>
				</div>
				<div class="item itemWhite">
					<a class="itemTitle">Item title 3</a>
					<a class="desc">Item 3 description</a>
					<div class="item itemGray">
						<a class="itemTitle">Item title 1 layer 2</a>
						<a class="desc">This <br> is the items <br> description</a>
						<div class="item itemWhite">
							<a class="itemTitle">Item title 1 layer 2</a>
							<a class="desc">This <br> is the items <br> description</a>
						</div>
					</div>
				</div>
				<div class="item itemWhite">
					<a class="itemTitle">Item title 4</a>
					<a class="desc">Item 4 description</a>
				</div>
			</div>
			<div class="item itemGray">
				<a class="itemTitle">Item title 4</a>
			</div>
			<div class="item itemGray">
				<a class="itemTitle">Item title 5</a>
			</div>
		</div>
		<div id="createButton" class="addBtn" onclick="addCatFormDropdown()">
			<a class="plus">  +  </a>
		<div-->
	</div>
	<script>
		appendCatAddBtn();
	</script>
</head>
